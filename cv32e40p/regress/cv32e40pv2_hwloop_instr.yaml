# Copyright 2023 Dolphin Design
# SPDX-License-Identifier: Apache-2.0 WITH SHL-2.1

# Header
name: cv32e40pv2_fpu_instr
description: regression for CV32E40Pv2, focused on hwloop (including interrupt and debug as well)

# List of builds
builds:
  clean_fw:
    cmd: make clean-bsp clean_test_programs
    dir: cv32e40p/sim/uvmt
  clean_corev-dv:
    cmd: make clean_riscv-dv clone_riscv-dv
    dir: cv32e40p/sim/uvmt
  uvmt_cv32e40p:
    cmd: make comp comp_corev-dv
    dir: cv32e40p/sim/uvmt
    cfg: pulp

# List of tests
tests:
  corev_rand_pulp_hwloop_test:
    build: uvmt_cv32e40p
    description: corev_rand_pulp_hwloop_test
    dir: cv32e40p/sim/uvmt
    cmd: make gen_corev-dv test COREV=YES TEST=corev_rand_pulp_hwloop_test

  corev_rand_pulp_hwloop_debug:
    build: uvmt_cv32e40p
    description: corev_rand_pulp_hwloop_debug
    dir: cv32e40p/sim/uvmt
    cmd: make gen_corev-dv test COREV=YES TEST=corev_rand_pulp_hwloop_debug
